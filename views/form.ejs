<html>

    <head>
        <title>Create Project Proposal</title>
        <%- include partials/scriptResources %>
        <link rel="stylesheet" href="css/form.css">
        <link rel="stylesheet" href="css/variables.css" />
        <link rel="stylesheet" href="css/bootstrap_modal_2.css">
        <link rel="stylesheet" type="text/css" href="css/element-stylesheet/button.css" />
    </head>

    <body>
        <div class="go-back">
            <a href="/"><button class="dark" style="display: inline;"><i class="left chevron icon" style="float: left; margin-left: -1.5rem; margin-right: 1.3rem; margin-top: 0.1rem;"></i>
                Home</button></a>
            <!-- <i class="fas fa-2x fa-home"></i>Home -->
        </div>
        <div class="main ui text container">
            <!-- Approval modal -->
            <div class="modal fade" id="modalActivitySubmit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Confirm action</h4>
                        </div>
                        <div class="modal-body">
                            You are about to <b>submit</b> these activity details. Proceed?
                        </div>
                        <div class="modal-footer">                           
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" id="approve" onclick="submitForm()">Submit</button> 
                        </div>
                    </div>
                </div>
            </div>

            <div class="ui segments" style="padding: 1.2em;">

                <form id="activityForm" action="/create-form-confirm" method="post">

                    <div class="ui grid">
                        <div class="two column row" style="margin-bottom: 1em;">
                            <div class="left floated column">
                                <h1 class="ui header" style="margin-top: 0.65em;">Create Proposal Form</h1>
                            </div>
                            <div class="right floated column">
                                <img src="assets/svg/logo_opps-logo-green.svg" />
                            </div>
                        </div>
                    </div>

                    <!-- Page 1-->
                    <div class="tab">
                        <span class="labelHead"><label>Organization/Unit: <span class="red"> * </span></label></span>
                        <label>
                            <%=data.name%></label>
                        <br />
                        <h3 class="labelHead ui header">I. Activity Details</h3>
                        <h2 class="labelHead"><label>Title of the Activity <span class="red"> * </span></label></h2>
                        <input id="title" class="inputron" type="text" name="title" required style="margin-top: -5px;">

                        <div class="ui large form">
                            <input style="display:none;" value='0' id="dynamicTable1length" name="dynamicTable1len">
                            <h3 class="labelHead ui header"><label>Project Head/s <span class="red"> *</span></label></h3>
                            <table class="ui compact celled definition fixed table unstackable" id="dynamicTable1">
                                <thead class="full-width">
                                    <tr style="text-align: center;">
                                        <th style="width: 40px;"></th>
                                        <th class="item">Name</th>
                                        <th class="item five wide">Contact Number</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr value=0>
                                        <td class="collapsing">
                                            <div class="ui fitted">
                                            </div>
                                        </td>
                                        <td><input id="phead_name0" class="inputron no-margin" name="phead_name0" type="text"
                                                   placeholder="ex. Juan Dela Cruz" required></td>
                                        <td><input id="phead_number0" class="inputron no-margin" name="phead_number0" type="number"
                                                   placeholder="ex. 09xxxxxxxxx" required></td>
                                    </tr>
                                </tbody>
                            </table>
                            <button type="button" class="row-button next" id="btnAddPhead">Add Row</button>
                            <!-- <button type="button" class="row-button previous" id="btnDeletePhead">Delete
Row</button> -->
                            <br>
                            <h3 class="labelHead ui header"><label>Nature of the Activity <span class="red"> *</span></label></h3>
                            <div class="grouped fields">
                                <%if(data.type == "CSO") {%>
                                <h4>CSO and Special Groups</h4>

                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Academic" name="nature" checked="checked">
                                        <label>Academic</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Special Interest" name="nature">
                                        <label>Special Interest</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Departmental Initiative" name="nature">
                                        <label>Departmental Initiative</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Fundraising" name="nature">
                                        <label>Fundraising</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Community Development" name="nature">
                                        <label>Community Development</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Organizational Development" name="nature">
                                        <label>Organizational Development</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Issue Advocacy" name="nature">
                                        <label>Issue Advocacy</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Lasallian Formation/Spiritual Growth" name="nature">
                                        <label>Lasallian Formation/Spiritual Growth</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Outreach" name="nature">
                                        <label>Outreach</label>
                                    </div>
                                </div>
                                <%} else {%>
                                <h4>USG</h4>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Student Service" name="nature" checked="checked">
                                        <label>Student Service</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Student's Rights and Welfare" name="nature">
                                        <label>Student's Rights and Welfare</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Rules and Policies" name="nature">
                                        <label>Rules and Policies</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Fundraising" name="nature">
                                        <label>Fundraising</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Community Development" name="nature">
                                        <label>Community Development</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Organizational Development" name="nature">
                                        <label>Organizational Development</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Issue Advocacy" name="nature">
                                        <label>Issue Advocacy</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Lasallian Formation/Spiritual Growth" name="nature">
                                        <label>Lasallian Formation/Spiritual Growth</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Outreach" name="nature">
                                        <label>Outreach</label>
                                    </div>
                                </div>
                                <%}%>
                            </div>
                        </div>

                        <br />
                        <div class="ui large form">
                            <h3 class="labelHead ui header"><label>Type of the Activity <span class="red"> * </span></label></h3>
                            <select id="toa" class="ui dropdown">
                                <option value="cso">Through CSO/DAAM</option>
                                <option value="slife">Through SLIFE</option>
                            </select>
                            <div class="grouped fields">
                                <table class="ui two column very basic table borderless">
                                    <tr>
                                        <td id="activityType">
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Assistance" name="type" checked="checked">
                                                    <label>Assistance</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Awareness Campaign" name="type">
                                                    <label>Awareness Campaign</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Contest" name="type">
                                                    <label>Contest</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Distribution" name="type">
                                                    <label>Distribution</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Focus Group Discussion" name="type">
                                                    <label>Focus Group Discussion</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-CSO/DAAM-General Assembly/Recognition"
                                                           name="type">
                                                    <label>General Assembly/Recognition</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Meeting" name="type">
                                                    <label>Meeting</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Recreation" name="type">
                                                    <label>Recreation</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Recruitment/Audition/Election" name="type">
                                                    <label>Recruitment/Audition/Election</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Seminar/Workshop" name="type">
                                                    <label>Seminar/Workshop</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <input type="radio" value="CSO/DAAM-Spiritual Activity" name="type">
                                                    <label>Spiritual Activity</label>
                                                </div>
                                            </div>
                                            <div class="field">
                                                <div class="ui radio checkbox">
                                                    <div class="ui transparent input"><input type="radio" value="CSO/DAAM-Others"
                                                                                             name="type">
                                                        <label>Others</label><input type="text" name="typeOthers" style="width: 80%; margin-left: 10px; border-bottom: 1.5px solid !important;
                                                            border-bottom-color: rgba(34, 36, 38, .15) !important; border-radius: 0px !important;" /></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <br />
                        <div class="ui two column grid">
                            <div class="row">
                                <div class="column">
                                    <span class="labelHead"><label>Date of the Activity <span class="red"> *</span></label></span>

                                    <span class="ui calendar" id="startdate">
                                        <div class="ui input left icon">
                                            <i class="calendar icon"></i>
                                            <input id="date" type="text" name="startDate" placeholder="Date" autocomplete="off"
                                                   required>
                                        </div>
                                    </span>
                                </div>
                            </div>

                            <div class="two column row">
                                <div class="column"><span class="labelHead"><label>Start Time of the Activity <span class="red">
                                    *</span></label></span>
                                    <br />
                                    <span class="ui calendar" id="starttime">
                                        <div class="ui input left icon">
                                            <i class="calendar icon"></i>
                                            <input id="startTime" type="text" name="startTime" placeholder="Start Time"
                                                   autocomplete="off" required>
                                        </div>
                                    </span>
                                </div>

                                <div class="column">
                                    <span class="labelHead"><label>End Time of the Activity
                                        <span class=" red"> * </span></label></span>
                                    <span class="ui calendar" id="endtime">
                                        <div class="ui input left icon">
                                            <i class="calendar icon"></i>
                                            <input id="endTime" type="text" name="endTime" placeholder="End Time"
                                                   autocomplete="off" required>
                                        </div>
                                    </span>
                                </div>
                            </div> <!-- END ROW -->
                        </div>

                        <br /><br />
                        <div class="ui grid">
                            <div class="row">
                                <div class="nine wide column">
                                    <span class="labelHead"><label>Venue of the Activity</label> <i class="ui tooltip far fa-question-circle"
                                                                                     data-content="If online activity, put N/A" data-position="bottom center"></i></span>
                                    <br />
                                    <input id="venue" class="inputron" name="venue" type="text" required>
                                </div>

                                <div class="three wide column">
                                    <span class="labelHead"><label>ENMP </label> <i class="ui tooltip far fa-question-circle"
                                                                                    data-content="If N/A, put 0" data-position="bottom center"></i></span>
                                    <br />
                                    <input id="enmp" class="inputron" name="enmp" type="number" min="0" required>
                                </div>

                                <div class="three wide column">
                                    <span class="labelHead"><label>ENP <i class="ui tooltip far fa-question-circle"
                                                                          data-content="If N/A, put 0" data-position="bottom center"></i></label></span>
                                    <br />
                                    <input id="enp" class="inputron" name="enp" type="number" min="0" required>
                                </div>
                            </div>
                        </div>

                        <br /><br>
                        <div class="ui form">
                            <div class="grouped fields">
                                <h3 class="labelHead ui header"><label>Reach of the Activity <span class="red"> * </span></label></h3>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Batch Wide" name="reach" checked="checked">
                                        <label>Batch Wide</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="College Wide" name="reach">
                                        <label>College Wide</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="Organization Wide" name="reach">
                                        <label>Organization Wide</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="University Wide" name="reach">
                                        <label>University Wide</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br />
                        <div class="ui form">
                            <div class="grouped fields">
                                <h3 class="labelHead ui header"><label>Online Activity? <span class="red"> * </span></label></h3>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="yes" name="online" checked="checked">
                                        <label>Yes</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="no" name="online">
                                        <label>No</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br />
                        <div class="ui form">
                            <div class="grouped fields">
                                <h3 class="labelHead ui header"><label>Activity in GOSM? <span class="red"> * </span></label></h3>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="yes" name="GOSM" checked="checked">
                                        <label>Yes</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox">
                                        <input type="radio" value="no" name="GOSM">
                                        <label>No</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Page 2-->
                    <div class="tab">
                        <h3 class="labelHead ui header">II. Brief Context /
                            Perspective of the Activity <i class="ui tooltip far fa-question-circle" data-content="Write 3 paragraphs (1 paragraph per part) answering the following questions in application of the Lasallian Reflection Framework."
                                                           data-position="bottom center"></i></h3>

                        <div class="required field">
                            <h5 class="labelHead ui header"><label>Paragraph 1 <span class="red"> *</span></label></h5>
                            <ol class="ui list">
                                <li value="-">What situation do you see (observation/s) in your organization, university,
                                    society, or our
                                    world?</li>
                                <li value="-">What certain experiences, problems, or questions do you have in
                                    relation to
                                    what you see?
                                    <em>(May
                                        be
                                        supported with examples)</em></li>
                            </ol>
                            <textarea id="context1" name='context1' rows="2" style="resize: none;" required></textarea>
                        </div>
                        <br>

                        <div class="required field">
                            <h5 class="labelHead ui header"><label>Paragraph 2 <span class="red"> *</span></label></h5>
                            <ol class="ui list">
                                <li value="-">Why is there a problem?</li>
                                <li value="-">What could be the cause and the effect?</li>
                                <li value="-">How did you feel about the experience, situation, or problem? And why did you
                                    feel
                                    that
                                    way?</li>
                                <li value="-">What can we discover or realize?</li>
                            </ol>
                            <textarea id="context2" rows="2" name='context2' style="resize: none;" required></textarea>
                        </div>

                        <br />

                        <div class="required field">
                            <h5 class="labelHead ui header"><label>Paragraph 3 <span class="red"> *</span></label></h5>
                            <ol class="ui list">
                                <li value="-">Out of all the possible projects, activities, and solutions, why this?</li>
                                <li value="-">As an organization, what will you commit as a response to what you have
                                    started
                                    in
                                    Paragraph 2?</li>
                            </ol>
                            <textarea id="context3" rows="2" name='context3' style="resize: none;" required></textarea>
                        </div>

                        <br />
                        <h3 class="labelHead ui header"><label>III. Objectives of the Activity </label> <i class="ui tooltip far fa-question-circle"
                                                                                           data-content="State what you intend to address through this activity â€“ the expected outputs of the activity."
                                                                                           data-position="bottom center"></i></h3>
                        <div class="field">
                            <label>1.</label>
                            <input id="objective1" class="inputron" name='objective1' type="text" required>
                        </div>
                        <br /><br />
                        <div>
                            <label>2.</label>
                            <input id="objective2" class="inputron" name='objective2' type="text" required>
                        </div>
                        <br /><br />
                        <div>
                            <label>3.</label>
                            <input id="objective3" class="inputron" name='objective3' type="text" required>
                        </div>
                        <br /><br />
                        <input style="display:none;" value='0' id="dynamicTable2length" name="dynamicTable2len">
                        <h3 class="labelHead ui header"><label>IV. Comprehensive Program Design </label> <i class="ui tooltip far fa-question-circle"
                                                                                                            data-content="List the actual activities that will happen ON THE DAY of the program/project implementation."
                                                                                                            data-position="bottom center"></i></h3>
                        <table class="ui compact celled definition fixed table unstackable" id="dynamicTable2">
                            <thead class="full-width">
                                <tr style="text-align: center;">
                                    <th style="width: 40px;"></th>
                                    <th class="item">Start Time to End Time</th>
                                    <th class="item">Activity</th>
                                    <th class="item five wide">Brief Description of the Activity</th>
                                    <th class="item">Person-in-charge</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr value=0>
                                    <td class="collapsing">
                                        <div class="ui fitted">
                                        </div>
                                    </td>
                                    <td><input id="startTime0" class="inputron no-margin" type="time" name="startTime0"
                                               required>
                                        <input id="endTime0" class="inputron no-margin" type="time" value="00:00" name="endTime0"
                                               required></td>
                                    <td><textarea id="activity0" class="row-textarea" name="activity0" required></textarea></td>
                                    <td><textarea id="description0" class="row-textarea" name="description0" required></textarea></td>
                                    <td><textarea id="person0" class="row-textarea" name="person0" required></textarea></td>
                                </tr>
                            </tbody>
                        </table>
                        <button type="button" class="row-button next" id="btnAddCPD">Add Row</button>
                        <!-- <button type="button" class="row-button previous" id="btnDeleteCPD">Delete Row</button> -->
                        <br /><br /><br /><br />
                    </div>

                    <!--Page 3-->
                    <div class="tab">
                        <input style="display:none;" value='0' id="dynamicTable3length" name="dynamicTable3len">
                        <h3 class="labelHead ui header"><label>V. Breakdown of Expenses </label> <i class="ui tooltip far fa-question-circle"
                                                                                                    data-content="If applicable, list ALL projected expenses." data-position="bottom center"></i>
                            <div class="ui toggle checkbox right floated">
                                <input style="display:none;" value="1" id="expenses" name="expenses">
                                <input name="public" type="checkbox" checked id="hasExpenses">
                                <label>Has expenses</label>
                            </div>
                        </h3>
                        <span class="hiddenText" style="display: none;">The activity will not incur any expenses.</span>

                        <table class="ui compact celled definition fixed table unstackable" id="dynamicTable3">
                            <thead class="full-width">
                                <tr style="text-align: center;">
                                    <th style="width: 40px;"></th>
                                    <th class="item">Materials</th>
                                    <th class="item">Quantity</th>
                                    <th class="item">Unit Cost</th>
                                    <th class="item">Total Cost</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="collapsing">
                                        <div class="ui fitted">
                                        </div>
                                    </td>
                                    <td><input id="material0" class="inputron no-margin" type="text" name="material0"
                                               required></td>
                                    <td><input id="quantity0" class="inputron no-margin" type="number" name="quantity0"
                                               onkeyup="computeBOE()" value=0 min=0 required></td>
                                    <td><input id="unit0" class="inputron no-margin" type="number" name="unit0" onkeyup="computeBOE()"
                                               value=0.00 min=0 step=0.01 required></td>
                                    <td class="bg-gray" name="BOE_subtotal0">Php 0.00</td>
                                </tr>
                            </tbody>
                            <tfoot class="full-width">
                                <tr>
                                    <th></th>
                                    <th colspan="3" class="total">
                                        <div class="ui right floated small primary labeled">
                                            Total:
                                        </div>
                                    </th>
                                    <th class="result" name="boeTotal">Php 0.00</th>
                                </tr>
                            </tfoot>
                        </table>
                        <button type="button" class="row-button next" id="btnAddBOE">Add Row</button>
                        <!-- <button type="button" class="row-button previous" id="btnDeleteBOE">Delete Row</button> -->

                        <br /><br />
                        <h3 class="labelHead ui header"><label>VI. Source of Funds </label> <i class="ui tooltip far fa-question-circle"
                                                                                               data-content="If applicable, list the breakdown on where you will get the funding for the activity. IT MUST BE EQUAL TO PART V. Put 0 on the cells which will not be used."
                                                                                               data-position="bottom center"></i></h3>
                        <span class="hiddenText" style="display: none;">The activity will not need any funding.</span>

                        <table class="ui compact celled definition fixed table basic unstackable" id="sofTable">
                            <thead class="full-width">
                                <tr style="text-align: center;">
                                    <th class="item eleven wide">Source/s of Funds</th>
                                    <th class="item five wide">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Organizational Funds</td>
                                    <td>Php <input id="OrganizationalFunds" class="inputron no-margin table_input" name="OrganizationalFunds"
                                                   type="number" value="0.00" min="0" step="0.01" onkeyup="computeSOF()" required></td>
                                </tr>
                                <tr>
                                    <td>Participants Fee</td>
                                    <td>Php <input id="ParticipantsFee" class="inputron no-margin table_input" name="ParticipantsFee"
                                                   type="number" value="0.00" min="0" step="0.01" onkeyup="computeSOF()" required></td>
                                </tr>
                                <tr>
                                    <td>Others (i.e. Sponsorships)</td>
                                    <td>Php <input id="OtherFunds" class="inputron no-margin table_input" name="OtherFunds"
                                                   type="number" value="0.00" min="0" step="0.01" onkeyup="computeSOF()" required></td>
                                </tr>
                            </tbody>
                            <tfoot class="full-width">
                                <tr>
                                    <th colspan="1" class="total">
                                        <div class="ui right floated small primary labeled">
                                            Total:
                                        </div>
                                    </th>
                                    <th class="result" name="totalSource">Php 0.00</th>
                                </tr>
                            </tfoot>
                        </table>
                        <br>

                        <h3 class="labelHead ui header"><label>VII. Organizational Funds </label> <i class="ui tooltip far fa-question-circle"
                                                                                                     data-content="Kindly indicate the current organizational funds and this should be endorsed ONLY by the VP Finance/Treasurer or USG Executive Treasurer."
                                                                                                     data-position="bottom center"></i></h3>
                        <table class="ui compact celled definition fixed table basic unstackable">
                            <thead class="full-width">
                                <tr style="text-align: left;">
                                    <!-- <th style="width: 40px;"></th> -->
                                    <!-- <th class="item" style="width: 50%">Accumulated Operational Funds</th> -->
                                    <th class="item eleven wide" style="border-right: none;">Accumulated Operational Funds</th>
                                    <th class="item five wide" style="border-left: none;"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <!-- <td class="collapsing">

</td> -->
                                    <td>
                                        <div class="right">
                                            Operational Fund
                                        </div>
                                    </td>
                                    <td>Php <input id="OperationalFund" class="inputron no-margin table_input" name="OperationalFund"
                                                   type="number" value="0.00" min="0" step="0.01" onkeyup="computeOF()" required></td>
                                </tr>

                                <tr>
                                    <!-- <td class="collapsing">

</td> -->
                                    <td colspan="2" style="background: white; padding-top: 0.8em; padding-bottom: 0.8em;">Accumulated
                                        Depository Funds</td>

                                    <!-- <td></td> -->
                                </tr>
                                <tr>
                                    <!-- <td class="collapsing">

</td> -->
                                    <td>
                                        <div class="right">
                                            Depository Fund
                                        </div>
                                    </td>
                                    <td>Php <input id="DepositoryFund" class="inputron no-margin table_input" name="DepositoryFund"
                                                   type="number" value="0.00" min="0" step="0.01" onkeyup="computeOF()" required></td>
                                </tr>
                                <tr>
                                    <!-- <td class="collapsing">

</td> -->
                                    <!-- TODO: FIX TOOLTIP HERE -->
                                    <td colspan="2" style="background: white; padding-top: 0.8em; padding-bottom: 0.8em;">Other
                                        Sources of Funds <i class="ui tooltip far fa-question-circle" data-content="If N/A, put 0"
                                                            data-position="right center" data-variation="tiny"></i></td>
                                    <!-- <td></td> -->
                                </tr>
                                <tr>
                                    <!-- <td class="collapsing">

</td> -->
                                    <td>
                                        <div class="right">
                                            Participants Fee/Donation/Sponsorships
                                        </div>
                                    </td>
                                    <td>Php <input id="OtherFund" class="inputron no-margin table_input" name="OtherFund"
                                                   type="number" value="0.00" min="0" step="0.01" onkeyup="computeOF()" required></td>
                                </tr>
                                <tr>
                                    <!-- <td class="collapsing">

</td> -->
                                    <td class="bg-gray bold">
                                        <div class="right italics">
                                            Total Cash For Disbursement
                                        </div>
                                    </td>
                                    <td style="background-color: #F7F7F7;" name="totalDisbursement">Php 0.00</td>
                                </tr>
                                <tr>
                                    <!-- <td class="collapsing">

</td> -->
                                    <td>
                                        <div class="right bold">
                                            Less: Total Projected Expenses
                                        </div>
                                    </td>
                                    <td style="background-color: #F7F7F7;" name="lessExp">Php 0.00</td>
                                </tr>
                                <tr>
                                    <!-- <td class="collapsing">

</td> -->
                                    <td class="bg-gray">
                                        <div class="right bold">
                                            REMAINING BALANCE
                                        </div>
                                    </td>
                                    <td style="background-color: #F7F7F7;" name="remBalance">Php 0.00</td>
                                </tr>
                            </tbody>
                        </table>

                        <br /><br>
                        <input style="display:none;" value='0' id="dynamicTable4length" name="dynamicTable4len">
                        <h3 class="labelHead ui header"><label>VIII. Projected Income </label> <i class="ui tooltip far fa-question-circle"
                                                                                                  data-content="This is a requirement for fund-raising and selling activities." data-position="bottom center"></i>
                            <div class="ui toggle checkbox right floated">
                                <input style="display:none;" value="1" id="income" name="income">
                                <input name="public" type="checkbox" checked id="hasIncome">
                                <label>Has income</label>
                            </div>
                        </h3>
                        <span class="hiddenText" style="display: none;">The activity is not a fundraising/selling activity;
                            thus, it will not incur
                            income or loss.</span>
                        <table class="ui compact celled definition fixed table unstackable" id="dynamicTable4">
                            <thead class="full-width">
                                <tr>
                                    <th style="width:40px"></th>
                                    <th colspan="4">Projected Revenue</th>
                                    <!-- <th class="pj-border"></th>
<th class="pj-border"></th>
<th class="pj-border"></th> -->
                                </tr>
                                <tr style="text-align: center;">
                                    <th style="width: 40px;"></th>
                                    <th class="item">Item</th>
                                    <th class="item">Qty</th>
                                    <th class="item">Selling Price</th>
                                    <th class="item">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="collapsing">
                                        <div class="ui fitted">
                                        </div>
                                    </td>
                                    <td><input id="item0" class="inputron no-margin" type="text" name="item0" required></td>
                                    <td><input id="qty0" class="inputron no-margin" type="number" name="qty0" onkeyup="computeRev()"
                                               value="0" min="0"></td>
                                    <td><input id="price0" class="inputron no-margin" name="price0" onkeyup="computeRev()"
                                               type="number" value="0.00" min="0" step="0.01" required></td>
                                    <td class="bg-gray" name="amount0">Php 0.00</td>
                                </tr>
                            </tbody>
                        </table>
                        <button type="button" class="row-button next" id="btnAddProjRev">Add Row</button>
                        <!-- <button type="button" class="row-button previous" id="btnDeleteProjRev">Delete Row</button> -->

                        <!-- <br><br> -->
                        <input style="display:none;" value='0' id="dynamicTable5length" name="dynamicTable5len">
                        <table class="ui compact celled definition fixed table unstackable" id="dynamicTable5">
                            <thead class="full-width">
                                <tr>
                                    <th style="width:40px"></th>
                                    <th colspan="4">Less: Projected Expenses <i class="ui tooltip far fa-question-circle"
                                                                                data-content="Should match with Part V" data-position="right center"
                                                                                data-variation="tiny"></i></th>
                                </tr>
                                <tr style="text-align: center;">
                                    <th style="width: 40px;"></th>
                                    <th class="item">Item</th>
                                    <th class="item">Qty</th>
                                    <th class="item">Selling Price</th>
                                    <th class="item">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="collapsing">
                                        <div class="ui fitted">
                                        </div>
                                    </td>
                                    <td><input id="it0" class="inputron no-margin" type="text" name="it0" required></td>
                                    <td><input id="qu0" class="inputron no-margin" type="number" name="qu0" onkeyup="computeExp()"
                                               required value="0" min="0"></td>
                                    <td><input id="pr0" class="inputron no-margin" name="pr0" type="number" onkeyup="computeExp()"
                                               value="0.00" min="0" step="0.01" required></td>
                                    <td class="bg-gray" name="am0">Php 0.00</td>
                                </tr>
                            </tbody>
                            <tfoot class="full-width">
                                <tr>
                                    <th></th>
                                    <th colspan="3" class="total">
                                        <div class="ui right floated small primary labeled">
                                            <!-- Income = Revenue - Expenses -->
                                            Total Projected Income:
                                        </div>
                                    </th>
                                    <th name="projIncomeTotal">Php 0.00</th>
                                </tr>
                            </tfoot>
                        </table>
                        <button type="button" class="row-button next" id="btnAddProjExp">Add Row</button>
                        <!-- <button type="button" class="row-button previous" id="btnDeleteProjExp">Delete Row</button> -->
                        <br><br>
                        <h3 class="labelHead ui header"><label>IX. Provisions for Profit and Loss </label> <i class="ui tooltip far fa-question-circle"
                                                                                                              data-content="Must be at least two (2) DIFFERENT persons responsible that will be signing."
                                                                                                              data-position="bottom center"></i></h3>
                        The following people shall be held liable and will shoulder any remaining balance incurred
                        by the project.<br><br>
                        <div class="ui grid">
                            <div class="two column row">
                                <div class="left floated column">
                                    <label>Name of Person Responsible</label><br />
                                    <input id="namePR1" class="inputron" name='namePR' type="text" required>
                                    <br /><br />
                                    <label>Position</label><br>
                                    <input id="positionPR" class="inputron" name='positionPR' type="text" required>
                                    <br /><br />
                                </div>
                                <div class="right floated column">
                                    <label style="float: left;">Name of Person Responsible</label>
                                    <br />
                                    <input id="namePR2" class="inputron" name='namePR2' type="text" required><br /><br />
                                    <label style="float: left;">Position</label>
                                    <br />
                                    <input id="positionPR2" class="inputron" name='positionPR2' type="text" required>
                                    <br /><br />
                                </div>
                            </div>
                        </div>

                    </div>

                    <div id="error" style="display: none;" class="ui red message">
                        <div id="error-message" class="header">
                            <!-- Please fill out all the fields. -->
                        </div>
                    </div>

                    <div class="ui grid">
                        <div class="row"></div>
                        <div class="three column row">
                            <div class="four wide left floated column">
                                <button class="submit-button previous" type="button" id="prevBtn" onclick="nextPrev(-1)"><i
                                                                                                                            class="left chevron icon" style='float: left; margin-left: -1.5rem; margin-right: 1.3rem; margin-top: 0.1rem;'></i>
                                    Previous</button>
                            </div>
                            <div class="three wide column">
                                <!-- Circles which indicates the steps of the form -->
                                <div class="ui items">
                                    <div class="item">
                                        <div class="content" style="margin-top: 1.3em; margin-left: 0.5em;">
                                            <!-- <span class="step"></span>
<span class="step"></span>
<span class="step"></span> -->
                                            <span id="bottomPagination" style="color: rgba(0, 0, 0, .55)">Page 1 of 3</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="four wide right floated column">
                                <button class="submit-button next" type="button" id="nextBtn" onclick="nextPrev(1)"><span>Next</span>
                                    <i class="right chevron icon"></i></button>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>

        <!-- <div class="modal fade" tabindex="-1" role="dialog" id="myModal" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">Submission successful!</h3>
</div>
<div class="modal-body">
<p>The form has successfully been sent for checking.</p>
</div>
<div class="modal-footer">
<button type="button" class="btn" onclick="submitForm()">OK</button>
</div>
</div>
</div>
</div> -->

        <script>
            $('.tooltip').popup({
                // inline: true
            });

            var currentTab = 0; // Current page is set to be the first page (0)
            showTab(currentTab); // Display the current page

            function get24htime(amPmString) {
                var d = new Date("11/11/2013 " + amPmString);
                var hours = d.getHours();
                var mins = d.getMinutes();

                if (d.getHours() < 10)
                    hours = '0' + d.getHours();

                if (d.getMinutes() < 10)
                    mins = '0' + d.getMinutes();

                // console.log("GET TIME " + amPmString + " NEW TIME: " + hours + ':' + mins);
                return hours + ':' + mins;
            }

            function showTab(n) {
                // This function will display the specified page of the form ...
                var x = document.getElementsByClassName("tab");
                x[n].style.display = "block";
                // ... and fix the Previous/Next buttons:
                if (n == 0) {
                    document.getElementById("prevBtn").style.display = "none";
                } else {
                    document.getElementById("prevBtn").style.display = "inline";
                }

                if (n == (x.length - 1)) {
                    document.getElementById("nextBtn").innerHTML =
                        "<i class='fa fa-check' style='margin-right: 0.5rem;'></i> Submit";
                } else {
                    document.getElementById("nextBtn").innerHTML =
                        "<span>Next</span> <i class='right chevron icon' style='float: right; margin-right: -1.3rem; margin-left: 0.9rem;  margin-top: 0.1rem;'></i>";
                }

                // ... and run a function that displays the correct step indicator:
                fixStepIndicator(n)

                if (n == 1) {
                    var startTime = $("#startTime").val();
                    var endTime = $("#endTime").val();

                    // console.log("I'M ON SECOND PAGE, time is: " + get24htime(time));
                    var input = $("#dynamicTable2 tr:last").children().eq(1).find('input:last')
                    $(input).attr('value', get24htime(
                        endTime))

                    document.getElementById('startTime0').setAttribute('value', get24htime(startTime));
                }
                //scrolls the page to top
                $(window).scrollTop(0);
            }

            function nextPrev(n) {
                // This function will figure out which tab to display
                var x = document.getElementsByClassName("tab");
                // Exit the function if any field in the current tab is invalid:

                if (n == 1 && !validateForm()) {
                    // TODO: FIX ANIMATION TRIGGER
                    $('#error').addClass('shake').one('transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd',
                                                      function () {
                        $(this).removeClass('shake');
                    });
                    $('#error').show();
                    return false;
                }
                // Hide the current tab:
                $('#error').hide();
                x[currentTab].style.display = "none";
                // Increase or decrease the current tab by 1:
                currentTab = currentTab + n;
                // if you have reached the end of the form... :
                if (currentTab >= x.length) {
                    // toggle modal to confirm 
                    //                    document.getElementById("nextBtn").setAttribute('onclick','modalTrigger()');
                    document.getElementById("nextBtn").setAttribute('data-toggle','modal');
                    document.getElementById("nextBtn").setAttribute('data-target','#modalActivitySubmit');
                    currentTab = currentTab - 1;
                    showTab(currentTab);
                    return false;
                }
                // Otherwise, display the correct tab:
                document.getElementById("nextBtn").setAttribute('data-toggle','');
                document.getElementById("nextBtn").setAttribute('data-target','');
                showTab(currentTab);      
            }

            function submitForm() {
                //...the form gets submitted:
                showTab(currentTab - 1);
                document.getElementById("activityForm").submit();
                return false;
            }

            function validateForm() {
                var valid = true;
                var here = true;

                if (currentTab == 0) {
                    $("#error-message").empty();

                    if ($("#title").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the title.</div>"
                        );
                    }
                    if ($("#date").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the date.</div>"
                        );
                    }
                    if ($("#startTime").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the start time.</div>"
                        );
                    }
                    if ($("#endTime").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the end time.</div>"
                        );
                    }
                    if ($("#venue").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the venue.</div>"
                        );
                    }
                    if ($("#enmp").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the ENMP.</div>"
                        );
                    }
                    if ($("#enmp").val() < 0) {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>No negative value for ENMP.</div>"
                        );
                    }
                    if ($("#enp").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the ENP.</div>"
                        );
                    }
                    if ($("#enp").val() < 0) {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>No negative value for ENP.</div>"
                        );
                    }
                    for (var i = 0; i <= $("#dynamicTable1length").val(); i++) {
                        if ($('#phead_name' + i).val() == "" || $('#phead_number' + i).val() == "") {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>Please complete the details of Project Head " +
                                (i + 1) + ".</div>");
                            return false;
                        } else if ($('#phead_number' + i).val() < 0) {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>Invalid contact number at row " +
                                (i + 1) + ".</div>");
                            return false;
                        } else if ($('#phead_number' + i).val().toString().length != 11) {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>Invalid contact number at row " +
                                (i + 1) + ".</div>");
                            return false;
                        }
                    }


                } else if (currentTab == 1) {
                    $("#error-message").empty();

                    if ($("#context1").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out Paragraph 1 in Part II.</div>"
                        );
                    }
                    if ($("#context2").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out Paragraph 2 in Part II.</div>"
                        );
                    }
                    if ($("#context3").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out Paragraph 3 in Part II.</div>"
                        );
                    }
                    if ($("#objective1").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out Objective 1.</div>"
                        );
                    }
                    if ($("#objective2").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out Objective 2.</div>"
                        );
                    }
                    if ($("#objective3").val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out Objective 3.</div>"
                        );
                    }

                    for (var i = 0; i <= $("#dynamicTable2length").val(); i++) {
                        if ($('#startTime' + i).val() == "" || $('#endTime' + i).val() == "" || $('#activity' + i).val() ==
                            "" || $('#description' + i).val() == "" || $('#person' + i).val() == "") {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>Please complete the details of Comprehensive Program Design at row " +
                                (i + 1) + ".</div>");
                            return false;
                            //                            } else {
                            //                                var startTime = Date.parse($('#startTime'+i).val());
                            //                                var endTime = Date.parse($('#endTime'+i).val());
                            //                                
                            //                                if (startTime >= endTime) {
                            //                                    valid = false;
                            //                                    $("#error-message").replaceWith("<div id='error-message' style='text-align: center; class='header'>End time must be later than start time at row "+(i+1)+" in Comprehensive Program Design.</div>");
                            //                                    return false;
                            //                                }
                        }
                    }
                    
                    var newTime = convertTime($("#startTime0").val());
                    if(newTime != $("#startTime").val()) {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Initial time must match with the start time of activity.</div>"
                        );  
                    }
                    
                    var length =  $("#dynamicTable2length").val();
                    var end = $("#endTime"+length).val();
                    
                    newTime = convertTime(end);
                    if(newTime != $("#endTime").val()) {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>End time must match with the end time of activity.</div>"
                        );  
                    }

                } else if (currentTab == 2) {
                    
                    $("#error-message").empty();
                    
                    if($('#hasExpenses').is(":checked")) {
                        for (var i = 0; i <= $("#dynamicTable3length").val(); i++) {
                            if ($('#material' + i).val() == "" || $('#quantity' + i).val() == "" || $('#unit' + i).val() == "") {
                                valid = false;
                                $("#error-message").append(
                                    "<div id='error-message' style='text-align: center; class='header'>Please complete the details of Breakdown of Expenses at row " +
                                    (i + 1) + ".</div>");
                                return false;
                            } else if ($('#quantity' + i).val() < 0) {
                                valid = false;
                                $("#error-message").append(
                                    "<div id='error-message' style='text-align: center; class='header'>Quantity at row " +
                                    (i + 1) + " cannot be negative.</div>");
                                return false;
                            } else if ($('#unit' + i).val() < 0) {
                                valid = false;
                                $("#error-message").append(
                                    "<div id='error-message' style='text-align: center; class='header'>Unit cost at row " +
                                    (i + 1) + " cannot be negative.</div>");
                                return false;
                            }
                        }
                        
                        if ($('#OrganizationalFunds').val() == "") {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>Please fill out the Organizational Funds of the Source of Funds.</div>"
                            );
                        } else if ($('#OrganizationalFunds').val() < 0) {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>No negative value for the Organizational Funds of the Source of Funds.</div>"
                            );
                        } else if ($('#ParticipantsFee').val() == "") {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>Please fill out the Participants Fee of the Source of Funds.</div>"
                            );
                        } else if ($('#ParticipantsFee').val() < 0) {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>No negative value for the Participants Fee of the Source of Funds.</div>"
                            );
                        } else if ($('#OtherFunds').val() == "") {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>Please fill out the Other Funds of the Source of Funds.</div>"
                            );
                        } else if ($('#OtherFunds').val() < 0) {
                            valid = false;
                            $("#error-message").append(
                                "<div id='error-message' style='text-align: center; class='header'>No negative value for the Other Funds of the Source of Funds.</div>"
                            );
                        }
                        document.getElementById("expenses").setAttribute('value', 1);
                        
                        var projectedExp = 0;
                        var BOE_Total = 0;

                        var rowCountExp = $('#dynamicTable5 tr').length - 3;
                        for (num = 0; num < rowCountExp; num++) {
                            $("input[name=qu" + num + "]").each(function () {
                                subtotal = $("input[name=pr" + num + "]").val() * parseFloat($(this).val());
                            });

                            $("input[name=pr" + num + "]").each(function () {
                                subtotal = $("input[name=qu" + num + "]").val() * parseFloat($(this).val());
                            });

                            if (!isNaN(subtotal))
                                projectedExp += subtotal;
                        }

                        var rowCount = $('#dynamicTable3 tr').length - 2;
                        for (var num = 0; num < rowCount; num++) {
                            $("input[name=quantity" + num + "]").each(function () {
                                subtotal_BOE = $("input[name=unit" + num + "]").val() * parseFloat($(this).val());
                            });

                            $("input[name=unit" + num + "]").each(function () {
                                subtotal_BOE = $("input[name=quantity" + num + "]").val() * parseFloat($(this).val());
                            });

                            if (!isNaN(subtotal_BOE)) {
                                BOE_Total += subtotal_BOE;
                            }
                        }

                        if(projectedExp != BOE_Total) {
                            valid = false;
                            $("#error-message").append("<div id='error-message' style='text-align: center; class='header'>Projected Expenses must be equal to Breakdown of Expenses.</div>");
                        }
                    } else {
                        document.getElementById("expenses").setAttribute('value', 0);
                    }

                    if ($('#OperationalFund').val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the Accumulated Operational Funds of the Organizational Funds.</div>"
                        );
                    } else if ($('#OperationalFund').val() < 0) {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>No negative value for the Accumulated Operational Funds of the Organizational Funds.</div>"
                        );
                    } else if ($('#DepositoryFund').val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the Accumulated Depository Funds of the Organizational Funds.</div>"
                        );
                    } else if ($('#DepositoryFund').val() < 0) {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>No negative value for the Accumulated Depository Funds of the Organizational Funds.</div>"
                        );
                    } else if ($('#OtherFund').val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the Other Sources of Funds of the Organizational Funds.</div>"
                        );
                    } else if ($('#OtherFund').val() < 0) {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>No negative value for the Other Sources of Funds of the Organizational Funds.</div>"
                        );
                    } else if ($('#namePR').val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the name of the person responsible.</div>"
                        );
                    } else if ($('#positionPR').val() == "") {
                        valid = false;
                        $("#error-message").append(
                            "<div id='error-message' style='text-align: center; class='header'>Please fill out the position of the person responsible.</div>"
                        );
                    } else {

                        if($('#hasIncome').is(":checked")) {
                            for (var i = 0; i <= $("#dynamicTable4length").val(); i++) {
                                if ($('#item' + i).val() == "" || $('#qty' + i).val() == "" || $('#price' + i).val() == "") {
                                    valid = false;
                                    $("#error-message").append(
                                        "<div id='error-message' style='text-align: center; class='header'>Please complete the details of Projected Revenue at row " +
                                        (i + 1) + ".</div>");
                                    return false;
                                } else if ($('#qty' + i).val() < 0) {
                                    valid = false;
                                    $("#error-message").append(
                                        "<div id='error-message' style='text-align: center; class='header'>Quantity in Projected Revenue at row " +
                                        (i + 1) + " cannot be negative.</div>");
                                    return false;
                                } else if ($('#price' + i).val() < 0) {
                                    valid = false;
                                    $("#error-message").append(
                                        "<div id='error-message' style='text-align: center; class='header'>Price in Projected Revenue at row " +
                                        (i + 1) + " cannot be negative.</div>");
                                    return false;
                                }
                            }

                            for (var i = 0; i <= $("#dynamicTable5length").val(); i++) {
                                if ($('#it' + i).val() == "" || $('#qu' + i).val() == "" || $('#pr' + i).val() == "") {
                                    valid = false;
                                    $("#error-message").append(
                                        "<div id='error-message' style='text-align: center; class='header'>Please complete the details of Projected Expenses at row " +
                                        (i + 1) + ".</div>");
                                    return false;
                                } else if ($('#qu' + i).val() < 0) {
                                    valid = false;
                                    $("#error-message").append(
                                        "<div id='error-message' style='text-align: center; class='header'>Quantity in Projected Expenses at row " +
                                        (i + 1) + " cannot be negative.</div>");
                                    return false;
                                } else if ($('#pr' + i).val() < 0) {
                                    valid = false;
                                    $("#error-message").append(
                                        "<div id='error-message' style='text-align: center; class='header'>Price in Projected Expenses at row " +
                                        (i + 1) + " cannot be negative.</div>");
                                    return false;
                                }
                            }
                            document.getElementById("income").setAttribute('value', 1);
                            
                            var projectedExp = 0;
                            var BOE_Total = 0;

                            var rowCountExp = $('#dynamicTable5 tr').length - 3;
                            for (num = 0; num < rowCountExp; num++) {
                                $("input[name=qu" + num + "]").each(function () {
                                    subtotal = $("input[name=pr" + num + "]").val() * parseFloat($(this).val());
                                });

                                $("input[name=pr" + num + "]").each(function () {
                                    subtotal = $("input[name=qu" + num + "]").val() * parseFloat($(this).val());
                                });

                                if (!isNaN(subtotal))
                                    projectedExp += subtotal;
                            }

                            var rowCount = $('#dynamicTable3 tr').length - 2;
                            for (var num = 0; num < rowCount; num++) {
                                $("input[name=quantity" + num + "]").each(function () {
                                    subtotal_BOE = $("input[name=unit" + num + "]").val() * parseFloat($(this).val());
                                });

                                $("input[name=unit" + num + "]").each(function () {
                                    subtotal_BOE = $("input[name=quantity" + num + "]").val() * parseFloat($(this).val());
                                });

                                if (!isNaN(subtotal_BOE)) {
                                    BOE_Total += subtotal_BOE;
                                }
                            }

                            if(projectedExp != BOE_Total) {
                                valid = false;
                                $("#error-message").append("<div id='error-message' style='text-align: center; class='header'>Projected Expenses must be equal to Breakdown of Expenses.</div>");
                            }
    
                                                           
                        } else {
                            document.getElementById("income").setAttribute('value', 0);
                        }
                    }
                }

                // if (valid) {
                //     document.getElementsByClassName("step")[currentTab].className += " finish";
                // }

                return valid;
            }

            function convertTime(time) {
                var array = time.split(":");
                var newTime;
                
                if(array[0] == "00")
                    newTime = "12:" + array[1] + " AM";
                else if(parseInt(array[0]) < 12)
                    newTime = parseInt(array[0]) + ":" + array[1] + " AM";
                else if(parseInt(array[0]) == 12)
                    newTime = parseInt(array[0]) + ":" + array[1] + " PM";
                else
                    newTime = (parseInt(array[0]) - 12) + ":" + array[1] + " PM";
                
                return newTime;
            }
            
            function submitForm() {
                document.getElementById("activityForm").submit();
            }

            function fixStepIndicator(n) {
                // This function removes the "active" class of all steps...
                // var i, x = document.getElementsByClassName("step");
                // for (i = 0; i < x.length; i++) {
                //     x[i].className = x[i].className.replace(" active", "");
                // }
                //... and adds the "active" class to the current step:
                // x[n].className += " active";

                var text = "Page " + (n + 1) + " of 3";
                $("#bottomPagination").html(text);
            }

            $('.ui.radio.checkbox').checkbox();

            $('#startdate').calendar({
                type: 'date',
                minDate: new Date()
            });
            $('#starttime').calendar({
                //                minDate: new Date(),
                type: 'time',
                endCalendar: $('#endtime')
            });
            $('#endtime').calendar({
                type: 'time',
                startCalendar: $('#starttime')
            });

            $('.ui.dropdown').dropdown();

            //add project head
            function addPhead() {
                var row = document.createElement("tr");
                var col1 = document.createElement("td");
                col1.className = "collapsing";
                var div = document.createElement("div");
                div.className = "ui fitted";
                var trashIcon = document.createElement("i");
                trashIcon.className = "fas fa-trash-alt"
                trashIcon.setAttribute('onclick', 'deletePhead(this)');

                var tableLength = document.getElementById("dynamicTable1length");
                console.log(tableLength.value)
                row.setAttribute('value', tableLength.value)
                console.log(tableLength.value)
                tableLength.setAttribute('value', parseInt(tableLength.value, 10) + 1)

                div.append(trashIcon);
                col1.append(div);

                var col2 = document.createElement("td");
                var input2 = document.createElement("input");
                input2.className = "inputron no-margin";
                input2.setAttribute('type', 'text');
                input2.setAttribute('required', true);
                input2.setAttribute('name', 'phead_name' + tableLength.value);
                input2.setAttribute('placeholder', 'ex. Juan Dela Cruz');
                input2.setAttribute('id', 'phead_name' + tableLength.value);
                col2.append(input2);

                var col3 = document.createElement("td");
                var input3 = document.createElement("input");
                input3.className = "inputron no-margin";
                input3.setAttribute('type', 'number');
                input3.setAttribute('required', true);
                input3.setAttribute('name', 'phead_number' + tableLength.value);
                input3.setAttribute('placeholder', 'ex. 09xxxxxxxxx');
                input3.setAttribute('id', 'phead_number' + tableLength.value);
                col3.append(input3);

                row.append(col1);
                row.append(col2);
                row.append(col3);

                $("#dynamicTable1").find('tbody').append(row);

                // console.log('ADD PHEAD()');
            }

            //delete project head
            function deletePhead(element) {
                let tableRef = document.getElementById('dynamicTable1');
                let tbody = tableRef.querySelector("tbody");

                // let checkedInputs = document.querySelectorAll("input[type='checkbox']:checked");
                // Array.prototype.slice.call(checkedInputs)
                //     .forEach(input => tbody.removeChild(input.parentNode.parentNode.parentNode))

                tbody.removeChild(element.parentNode.parentNode.parentNode);

                var i;

                //reset index
                for (i = 0; i < document.getElementById("dynamicTable1").rows.length; i++) {
                    for (var j = 0; j < document.getElementById("dynamicTable1").rows[i].cells.length; j++) {
                        if (i > 0 && j == 1) {
                            document.getElementById("dynamicTable1").rows[i].cells[j].firstElementChild.name =
                                'phead_name' +
                                (i - 1)
                        }
                        if (i > 0 && j == 2) {
                            document.getElementById("dynamicTable1").rows[i].cells[j].firstElementChild.name =
                                'phead_number' + (i - 1)
                        }
                    }
                }

                var tableLength = document.getElementById("dynamicTable1length");
                tableLength.setAttribute('value', i - 2);
                // $("#btnDeletePhead").toggleClass('delete-hover');
                // console.log('DELETE PHEAD()');
            }

            //add row in comprehensive projgram design table
            function addCPD() {
                var row = document.createElement("tr");
                var col1 = document.createElement("td");
                col1.className = "collapsing";
                var div = document.createElement("div");
                div.className = "ui fitted";
                var trashIcon = document.createElement("i");
                trashIcon.className = "fas fa-trash-alt"
                trashIcon.setAttribute('onclick', 'deleteCPD(this)');
                // var label = document.createElement("label");

                var tableLength = document.getElementById("dynamicTable2length");
                row.setAttribute('value', tableLength.value)
                tableLength.setAttribute('value', parseInt(tableLength.value, 10) + 1)

                div.append(trashIcon);
                // div.append(label);
                col1.append(div);

                var col2 = document.createElement("td");
                var input2 = document.createElement("input");
                input2.className = "inputron no-margin";
                input2.setAttribute('type', 'time');
                input2.setAttribute('required', true);
                input2.setAttribute('name', 'startTime' + tableLength.value);
                input2.setAttribute('id', 'startTime' + tableLength.value);
                var input6 = document.createElement("input");
                input6.className = "inputron no-margin";
                input6.setAttribute('type', 'time');
                input6.setAttribute('required', true);

                //get original end time of activity
                var time = $("#endTime").val();
                input6.setAttribute('value', get24htime(time));
                input6.setAttribute('name', 'endTime' + tableLength.value);
                input6.setAttribute('id', 'endTime' + tableLength.value);
                col2.append(input2);
                col2.append(input6);

                var col3 = document.createElement("td");
                var input3 = document.createElement("textarea");
                input3.className = "row-textarea";
                input3.setAttribute('required', true);
                input3.setAttribute('name', 'activity' + tableLength.value);
                input3.setAttribute('id', 'activity' + tableLength.value);
                col3.append(input3);

                var col4 = document.createElement("td");
                var input4 = document.createElement("textarea");
                input4.className = "row-textarea";
                input4.setAttribute('required', true);
                input4.setAttribute('name', 'description' + tableLength.value);
                input4.setAttribute('id', 'description' + tableLength.value);
                col4.append(input4);

                var col5 = document.createElement("td");
                var input5 = document.createElement("textarea");
                input5.className = "row-textarea";
                input5.setAttribute('required', true);
                input5.setAttribute('name', 'person' + tableLength.value);
                input5.setAttribute('id', 'person' + tableLength.value);
                col5.append(input5);

                row.append(col1);
                row.append(col2);
                row.append(col3);
                row.append(col4);
                row.append(col5);

                $("#dynamicTable2").find('tbody').append(row);

                // console.log('ADD ROW()');
            }

            //delete row in comprehensive program design table
            function deleteCPD(element) {
                let tableRef = document.getElementById('dynamicTable2');
                let tbody = tableRef.querySelector("tbody");

                tbody.removeChild(element.parentNode.parentNode.parentNode);

                var i;
                //reset index
                for (i = 0; i < document.getElementById("dynamicTable2").rows.length; i++) {
                    for (var j = 0; j < document.getElementById("dynamicTable2").rows[i].cells.length; j++) {
                        if (i > 0 && j == 1) {
                            document.getElementById("dynamicTable2").rows[i].cells[j].firstElementChild.name =
                                'startTime' +
                                (i - 1);
                            document.getElementById("dynamicTable2").rows[i].cells[j].childNodes[1].name = 'endTime' +
                                (i -
                                 1);
                        }
                        if (i > 0 && j == 2) {
                            document.getElementById("dynamicTable2").rows[i].cells[j].firstElementChild.name =
                                'activity' +
                                (i - 1);
                        }
                        if (i > 0 && j == 3) {
                            document.getElementById("dynamicTable2").rows[i].cells[j].firstElementChild.name =
                                'description' + (i - 1);
                        }
                        if (i > 0 && j == 4) {
                            document.getElementById("dynamicTable2").rows[i].cells[j].firstElementChild.name = 'person' +
                                (
                                i - 1);
                        }
                    }
                }

                var tableLength = document.getElementById("dynamicTable2length");
                tableLength.setAttribute('value', i - 2);
                // $("#btnDeleteCPD").toggleClass('delete-hover');
                // console.log('DELETE ROW()');
            }

            //add row in break down of expenses
            function addBOE() {
                var row = document.createElement("tr");
                var col1 = document.createElement("td");
                col1.className = "collapsing";
                var div = document.createElement("div");
                div.className = "ui fitted";
                var trashIcon = document.createElement("i");
                trashIcon.className = "fas fa-trash-alt"
                trashIcon.setAttribute('onclick', 'deleteBOE(this)');

                var tableLength = document.getElementById("dynamicTable3length");
                row.setAttribute('value', tableLength.value)
                tableLength.setAttribute('value', parseInt(tableLength.value, 10) + 1)

                div.append(trashIcon);
                col1.append(div);

                var col2 = document.createElement("td");
                var input2 = document.createElement("input");
                input2.className = "inputron no-margin";
                input2.setAttribute('type', 'text');
                input2.setAttribute('required', true);
                input2.setAttribute('name', 'material' + tableLength.value);
                input2.setAttribute('id', 'material' + tableLength.value);
                col2.append(input2);

                var col3 = document.createElement("td");
                var input3 = document.createElement("input");
                input3.className = "inputron no-margin";
                input3.setAttribute('type', 'number');
                input3.setAttribute('required', true);
                input3.setAttribute('onkeyup', 'computeBOE()');
                input3.setAttribute('min', 0);
                input3.setAttribute('value', 0);
                input3.setAttribute('name', 'quantity' + tableLength.value);
                input3.setAttribute('id', 'quantity' + tableLength.value);
                col3.append(input3);

                var col4 = document.createElement("td");
                var input4 = document.createElement("input");
                input4.className = "inputron no-margin";
                input4.setAttribute('type', 'number');
                input4.setAttribute('required', true);
                input4.setAttribute('onkeyup', 'computeBOE()');
                input4.setAttribute('name', 'unit' + tableLength.value);
                input4.setAttribute('id', 'unit' + tableLength.value);
                input4.setAttribute('min', 0);
                input4.setAttribute('value', 0.00);
                input4.setAttribute('step', 0.01)
                col4.append(input4);

                var col5 = document.createElement("td");
                col5.className = "bg-gray";
                col5.setAttribute('name', 'BOE_subtotal' + tableLength.value);
                col5.innerHTML = 'Php 0.00'

                row.append(col1);
                row.append(col2);
                row.append(col3);
                row.append(col4);
                row.append(col5);

                $("#dynamicTable3").find('tbody').append(row);
            }

            function computeBOE() {
                var rowCount = $('#dynamicTable3 tr').length - 2;
                var totalBOE = 0;

                for (var num = 0; num < rowCount; num++) {
                    $("input[name=quantity" + num + "]").each(function () {
                        subtotal_BOE = $("input[name=unit" + num + "]").val() * parseFloat($(
                            this).val());
                    });
                    $("input[name=unit" + num + "]").each(function () {
                        subtotal_BOE = $("input[name=quantity" + num + "]").val() * parseFloat(
                            $(this).val());
                    });

                    if (isNaN(subtotal_BOE)) {
                        $("td[name=BOE_subtotal" + num + "]").text("Php 0.00");

                    } else {
                        $("td[name=BOE_subtotal" + num + "]").text("Php " + subtotal_BOE.toFixed(2));
                        totalBOE += subtotal_BOE;
                    }
                }

                // if (isNaN(totalBOE)) {
                //     console.log("(isNaN) TOTAL BOE = " + totalBOE);
                //     $("th[name=boeTotal]").text("Php 0.00");
                //     $("td[name=lessExp]").text("Php 0.00");
                // } else {
                // console.log("TOTAL BOE = " + totalBOE);
                //BOE_Total = totalBOE;
                $("th[name=boeTotal]").text("Php " + totalBOE.toFixed(2));
                $("td[name=lessExp]").text("Php " + totalBOE.toFixed(2));

                computeRB();
            }

            function deleteBOE(element) {
                let tableRef = document.getElementById('dynamicTable3');
                let tbody = tableRef.querySelector("tbody");

                tbody.removeChild(element.parentNode.parentNode.parentNode);

                var i;
                //reset index
                for (i = 0; i < document.getElementById("dynamicTable3").rows.length - 1; i++) {
                    for (var j = 0; j < document.getElementById("dynamicTable3").rows[i].cells.length; j++) {
                        if (i > 0 && j == 1) {
                            document.getElementById("dynamicTable3").rows[i].cells[j].firstElementChild.name =
                                'material' +
                                (i - 1);
                        }
                        if (i > 0 && j == 2) {
                            document.getElementById("dynamicTable3").rows[i].cells[j].firstElementChild.name =
                                'quantity' +
                                (i - 1);
                        }
                        if (i > 0 && j == 3) {
                            document.getElementById("dynamicTable3").rows[i].cells[j].firstElementChild.name = 'unit' +
                                (i -
                                 1);
                        }
                        if (i > 0 && j == 4) {
                            document.getElementById("dynamicTable3").rows[i].cells[j].setAttribute('name',
                                                                                                   'BOE_subtotal' +
                                                                                                   (i - 1));
                        }
                    }
                }

                var tableLength = document.getElementById("dynamicTable3length");
                tableLength.setAttribute('value', i - 2);
                // $("#btnDeleteBOE").toggleClass('delete-hover');
                // console.log('DELETE BOE()');

                computeBOE();
            }

            function computeSOF() {
                var sum_SOF = 0;

                var orgfund = document.getElementsByName('OrganizationalFunds')[0].value;
                var participantsfee = document.getElementsByName('ParticipantsFee')[0].value;
                var otherfunds = document.getElementsByName('OtherFunds')[0].value;

                if (!orgfund.length == 0)
                    sum_SOF = sum_SOF + parseFloat(orgfund);

                if (!participantsfee.length == 0)
                    sum_SOF = sum_SOF + parseFloat(participantsfee);

                if (!otherfunds.length == 0)
                    sum_SOF = sum_SOF + parseFloat(otherfunds);

                $("th[name=totalSource]").text("Php " + sum_SOF.toFixed(2));

            }

            function computeOF() {
                var sum_OF = 0;

                var operationalfund = document.getElementsByName('OperationalFund')[0].value;
                var depositoryfund = document.getElementsByName('DepositoryFund')[0].value;
                var otherfund = document.getElementsByName('OtherFund')[0].value;

                if (!operationalfund.length == 0)
                    sum_OF = sum_OF + parseFloat(operationalfund);

                if (!depositoryfund.length == 0)
                    sum_OF = sum_OF + parseFloat(depositoryfund);

                if (!otherfund.length == 0)
                    sum_OF = sum_OF + parseFloat(otherfund);

                $("td[name=totalDisbursement]").text("Php " + sum_OF.toFixed(2));
                computeRB();
            }

            function computeRB() {

                var sourceVal = document.getElementsByName("totalDisbursement")[0].innerHTML.substring(4);
                var boeVal = document.getElementsByName("lessExp")[0].innerHTML.substring(4);

                var sum = parseFloat(sourceVal) - parseFloat(boeVal);
                // console.log("SOF")
                console.log("SUM = " + sum.toFixed(2));

                // if (isNaN(sum))
                //     $("td[name=remBalance]").text("Php 0.00");
                // else
                $("td[name=remBalance]").text("Php " + sum.toFixed(2));
            }

            //add row in projected revenue
            function addProjRev() {
                var row = document.createElement("tr");
                var col1 = document.createElement("td");
                col1.className = "collapsing";
                var div = document.createElement("div");
                div.className = "ui fitted";
                var trashIcon = document.createElement("i");
                trashIcon.className = "fas fa-trash-alt"
                trashIcon.setAttribute('onclick', 'deleteProjRev(this)');

                var tableLength = document.getElementById("dynamicTable4length");
                row.setAttribute('value', tableLength.value)
                tableLength.setAttribute('value', parseInt(tableLength.value, 10) + 1)

                div.append(trashIcon);
                col1.append(div);

                var col2 = document.createElement("td");
                var input2 = document.createElement("input");
                input2.className = "inputron no-margin";
                input2.setAttribute('type', 'text');
                input2.setAttribute('required', true);
                input2.setAttribute('name', 'item' + tableLength.value);
                input2.setAttribute('id', 'item' + tableLength.value);
                col2.append(input2);

                var col3 = document.createElement("td");
                var input3 = document.createElement("input");
                input3.className = "inputron no-margin";
                input3.setAttribute('type', 'number');
                input3.setAttribute('required', true);
                input3.setAttribute('name', 'qty' + tableLength.value);
                input3.setAttribute('id', 'qty' + tableLength.value);
                input3.setAttribute('onkeyup', 'computeRev()');
                input3.setAttribute('min', 0);
                input3.setAttribute('value', 0);
                col3.append(input3);

                var col4 = document.createElement("td");
                var input4 = document.createElement("input");
                input4.className = "inputron no-margin";
                input4.setAttribute('type', 'number');
                input4.setAttribute('required', true);
                input4.setAttribute('name', 'price' + tableLength.value);
                input4.setAttribute('id', 'price' + tableLength.value);
                input4.setAttribute('onkeyup', 'computeRev()');
                input4.setAttribute('min', 0);
                input4.setAttribute('value', 0.00);
                input4.setAttribute('step', 0.01)
                col4.append(input4);

                var col5 = document.createElement("td");
                col5.className = "bg-gray";
                col5.setAttribute('name', 'amount' + tableLength.value);
                col5.innerHTML = "Php 0.00";

                row.append(col1);
                row.append(col2);
                row.append(col3);
                row.append(col4);
                row.append(col5);

                $("#dynamicTable4").find('tbody').append(row);

                console.log('ADD ProjRev()');
            }

            //delete row in projected revenue
            function deleteProjRev(element) {
                let tableRef = document.getElementById('dynamicTable4');
                let tbody = tableRef.querySelector("tbody");

                tbody.removeChild(element.parentNode.parentNode.parentNode);

                var i;
                //reset index
                for (i = 0; i < document.getElementById("dynamicTable4").rows.length; i++) {
                    for (var j = 0; j < document.getElementById("dynamicTable4").rows[i].cells.length; j++) {
                        if (i > 1 && j == 1) {
                            document.getElementById("dynamicTable4").rows[i].cells[j].firstElementChild.name = 'item' +
                                (i -
                                 2);
                        }
                        if (i > 1 && j == 2) {
                            document.getElementById("dynamicTable4").rows[i].cells[j].firstElementChild.name = 'qty' +
                                (i -
                                 2);
                        }
                        if (i > 1 && j == 3) {
                            document.getElementById("dynamicTable4").rows[i].cells[j].firstElementChild.name = 'price' +
                                (i -
                                 2);
                        }
                        if (i > 1 && j == 4) {
                            document.getElementById("dynamicTable4").rows[i].cells[j].setAttribute('name', 'amount' + (
                                i -
                                2));
                        }
                    }
                }

                var tableLength = document.getElementById("dynamicTable4length");
                tableLength.setAttribute('value', i - 3);
                // $("#btnDeleteProjRev").toggleClass('delete-hover');
                // console.log('DELETE ProjRev()');

                computeRev();
            }

            function computeRev() {
                var rowCount = $('#dynamicTable4 tr').length - 2;

                for (var num = 0; num < rowCount; num++) {
                    $("input[name=qty" + num + "]").each(function () {
                        subtotal = $("input[name=price" + num + "]").val() * parseFloat($(
                            this).val());
                    });
                    $("input[name=price" + num + "]").each(function () {
                        subtotal = $("input[name=qty" + num + "]").val() * parseFloat(
                            $(this).val());
                    });
                    if (isNaN(subtotal))
                        $("td[name=amount" + num + "]").text("Php 0.00");
                    else
                        $("td[name=amount" + num + "]").text("Php " + subtotal.toFixed(2));
                }

                computeIncome();
            }

            function computeExp() {
                var rowCount = $('#dynamicTable5 tr').length - 3;

                for (var num = 0; num < rowCount; num++) {
                    $("input[name=qu" + num + "]").each(function () {
                        subtotal = $("input[name=pr" + num + "]").val() * parseFloat($(
                            this).val());
                    });
                    $("input[name=pr" + num + "]").each(function () {
                        subtotal = $("input[name=qu" + num + "]").val() * parseFloat(
                            $(this).val());
                    });
                    if (isNaN(subtotal))
                        $("td[name=am" + num + "]").text("Php 0.00");
                    else
                        $("td[name=am" + num + "]").text("Php " + subtotal.toFixed(2));
                }

                computeIncome();
            }

            function computeIncome() {
                var totalIncome = 0;
                var totalRev = 0;
                var totalExp = 0;
                var num;

                var rowCountRev = $('#dynamicTable4 tr').length - 2;
                for (num = 0; num < rowCountRev; num++) {
                    $("input[name=qty" + num + "]").each(function () {
                        subtotal = $("input[name=price" + num + "]").val() * parseFloat($(
                            this).val());
                    });
                    $("input[name=price" + num + "]").each(function () {
                        subtotal = $("input[name=qty" + num + "]").val() * parseFloat(
                            $(this).val());
                    });
                    totalRev += subtotal;
                }

                var rowCountExp = $('#dynamicTable5 tr').length - 3;
                for (num = 0; num < rowCountExp; num++) {
                    $("input[name=qu" + num + "]").each(function () {
                        subtotal = $("input[name=pr" + num + "]").val() * parseFloat($(
                            this).val());
                    });
                    $("input[name=pr" + num + "]").each(function () {
                        subtotal = $("input[name=qu" + num + "]").val() * parseFloat(
                            $(this).val());
                    });
                    if (!isNaN(subtotal))
                        totalExp += subtotal;
                }

                //projectedExp = totalExp;
                totalIncome = totalRev - totalExp;
                if (isNaN(totalIncome))
                    $("th[name=projIncomeTotal]").text("Php 0.00");
                else
                    $("th[name=projIncomeTotal]").text("Php " + totalIncome.toFixed(2));
            }

            //add row in projected expenses
            function addProjExp() {
                var row = document.createElement("tr");
                var col1 = document.createElement("td");
                col1.className = "collapsing";
                var div = document.createElement("div");
                div.className = "ui fitted";
                var trashIcon = document.createElement("i");
                trashIcon.className = "fas fa-trash-alt"
                trashIcon.setAttribute('onclick', 'deleteProjExp(this)');

                var tableLength = document.getElementById("dynamicTable5length");
                row.setAttribute('value', tableLength.value)
                tableLength.setAttribute('value', parseInt(tableLength.value, 10) + 1)

                div.append(trashIcon);
                col1.append(div);

                var col2 = document.createElement("td");
                var input2 = document.createElement("input");
                input2.className = "inputron no-margin";
                input2.setAttribute('type', 'text');
                input2.setAttribute('required', true);
                input2.setAttribute('name', 'it' + tableLength.value);
                input2.setAttribute('id', 'it' + tableLength.value);
                col2.append(input2);

                var col3 = document.createElement("td");
                var input3 = document.createElement("input");
                input3.className = "inputron no-margin";
                input3.setAttribute('type', 'number');
                input3.setAttribute('required', true);
                input3.setAttribute('name', 'qu' + tableLength.value);
                input3.setAttribute('id', 'qu' + tableLength.value);
                input3.setAttribute('onkeyup', 'computeExp()');
                input3.setAttribute('min', 0);
                input3.setAttribute('value', 0);
                col3.append(input3);

                var col4 = document.createElement("td");
                var input4 = document.createElement("input");
                input4.className = "inputron no-margin";
                input4.setAttribute('type', 'number');
                input4.setAttribute('required', true);
                input4.setAttribute('name', 'pr' + tableLength.value);
                input4.setAttribute('id', 'pr' + tableLength.value);
                input4.setAttribute('onkeyup', 'computeExp()');
                input4.setAttribute('min', 0);
                input4.setAttribute('value', 0.00);
                input4.setAttribute('step', 0.01)
                col4.append(input4);

                var col5 = document.createElement("td");
                col5.setAttribute('name', 'am' + tableLength.value);
                col5.className = "bg-gray";
                col5.innerHTML = "Php 0.00";

                row.append(col1);
                row.append(col2);
                row.append(col3);
                row.append(col4);
                row.append(col5);

                $("#dynamicTable5").find('tbody').append(row);

                console.log('ADD ProjExp()');
            }

            //delete row in projected expenses
            function deleteProjExp(element) {
                let tableRef = document.getElementById('dynamicTable5');
                let tbody = tableRef.querySelector("tbody");

                tbody.removeChild(element.parentNode.parentNode.parentNode);

                var i;
                //reset index
                for (i = 0; i < document.getElementById("dynamicTable5").rows.length - 1; i++) {
                    for (var j = 0; j < document.getElementById("dynamicTable5").rows[i].cells.length; j++) {
                        if (i > 1 && j == 1) {
                            document.getElementById("dynamicTable5").rows[i].cells[j].firstElementChild.name = 'it' + (
                                i -
                                2);
                        }
                        if (i > 1 && j == 2) {
                            document.getElementById("dynamicTable5").rows[i].cells[j].firstElementChild.name = 'qu' + (
                                i -
                                2);
                        }
                        if (i > 1 && j == 3) {
                            document.getElementById("dynamicTable5").rows[i].cells[j].firstElementChild.name = 'pr' + (
                                i -
                                2);
                        }
                        if (i > 1 && j == 4) {
                            document.getElementById("dynamicTable5").rows[i].cells[j].setAttribute('name', 'am' + (i -
                                                                                                                   2));
                        }
                    }
                }

                var tableLength = document.getElementById("dynamicTable5length");
                tableLength.setAttribute('value', i - 3);
                // $("#btnDeleteProjExp").toggleClass('delete-hover');
                // console.log('DELETE ProjExp()');

                computeExp();
            }

            function toggleExpenses(element) {
                if (element.checked) {
                    //show tables for parts V and VI
                    document.getElementById("dynamicTable3").removeAttribute("style");
                    document.getElementById("sofTable").removeAttribute("style");

                    //show add row button
                    document.getElementById("btnAddBOE").removeAttribute("style");

                    //hide text
                    document.getElementsByClassName("hiddenText")[0].setAttribute("style", "display: none");
                    document.getElementsByClassName("hiddenText")[1].setAttribute("style", "display: none");
                } else {
                    //hide tables for parts V and VI
                    document.getElementById("dynamicTable3").setAttribute("style", "display: none");
                    document.getElementById("sofTable").setAttribute("style", "display: none");

                    //hide add row button
                    document.getElementById("btnAddBOE").setAttribute("style", "display: none");

                    //show text
                    document.getElementsByClassName("hiddenText")[0].removeAttribute("style");
                    document.getElementsByClassName("hiddenText")[1].removeAttribute("style");
                }
            }

            function toggleIncome(element) {
                if (element.checked) {
                    //show table for part VIII
                    document.getElementById("dynamicTable4").removeAttribute("style");
                    document.getElementById("dynamicTable5").removeAttribute("style");

                    //show add row buttons
                    document.getElementById("btnAddProjRev").removeAttribute("style");
                    document.getElementById("btnAddProjExp").removeAttribute("style");

                    //hide text
                    document.getElementsByClassName("hiddenText")[2].setAttribute("style", "display: none");


                } else {
                    //hide table for part VIII
                    document.getElementById("dynamicTable4").setAttribute("style", "display: none");
                    document.getElementById("dynamicTable5").setAttribute("style", "display: none");

                    //hide add row buttons
                    document.getElementById("btnAddProjRev").setAttribute("style", "display: none");
                    document.getElementById("btnAddProjExp").setAttribute("style", "display: none");

                    //show text
                    document.getElementsByClassName("hiddenText")[2].removeAttribute("style");
                }
            }

            $(document).ready(function () {
                
                $("#toa").on('change', function() {
                    if ($(this).val() == 'cso'){
                        $('#activityType').replaceWith('<td id="activityType"><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Assistance" name="type" checked="checked"><label>Assistance</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Awareness Campaign" name="type"><label>Awareness Campaign</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Contest" name="type"><label>Contest</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Distribution" name="type"><label>Distribution</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Focus Group Discussion" name="type"><label>Focus Group Discussion</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-CSO/DAAM-General Assembly/Recognition" name="type"><label>General Assembly/Recognition</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Meeting" name="type"><label>Meeting</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Recreation" name="type"><label>Recreation</label></div></div><div class="field"><div class="ui radio checkbox"> <input type="radio" value="CSO/DAAM-Recruitment/Audition/Election" name="type"><label>Recruitment/Audition/Election</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Seminar/Workshop" name="type"><label>Seminar/Workshop</label></div></div> <div class="field"><div class="ui radio checkbox"><input type="radio" value="CSO/DAAM-Spiritual Activity" name="type"><label>Spiritual Activity</label></div></div><div class="field"><div class="ui radio checkbox"><div class="ui transparent input"><input type="radio" value="CSO/DAAM-Others" name="type"><label>Others</label><input type="text" name="typeOthers" style="width: 80%; margin-left: 10px; border-bottom: 1.5px solid !important;border-bottom-color: rgba(34, 36, 38, .15) !important; border-radius: 0px !important;" /></div></div></div></td>');
                    } else {
                        $('#activityType').replaceWith('<td id="activityType"><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-Concerts/Parties" name="type" checked><label>Concerts/Parties</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-Donation Drive" name="type"><label>Donation Drive</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-Fundraising Activity" name="type"><label>Fundraising Activity</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-OCCS Sponsored Seminar" name="type"><label>OCCS Sponsored Seminar</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-Off-Campus Activities" name="type"><label>Off-Campus Activities</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-Outreach" name="type"><label>Outreach</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-Tie-Up Activity (Internal/External)" name="type"><label>Tie-Up Activity (Internal/External)</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-TV/Radio Guesting" name="type"><label>TV/Radio Guesting</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-Seminar with Distinguished Speakers/Outside Participants" name="type"><label>Seminar with Distinguished Speakers/Outside Participants</label></div></div><div class="field"><div class="ui radio checkbox"><input type="radio" value="SLIFE-Solicitations/Sponsorships" name="type"><label>Solicitations/Sponsorships</label></div></div><div class="field"><div class="ui radio checkbox"><div class="ui transparent input"><input type="radio" value="SLIFE-Others" name="type"><label>Others</label><input type="text" name="typeOthers2" style="width: 80%; margin-left: 10px; border-bottom: 1.5px solid !important;border-bottom-color: rgba(34, 36, 38, .15) !important; border-radius: 0px !important;" /></div></div></div></td>');
                    }
                });

                document.getElementById("btnAddCPD").addEventListener("click", function () {
                    addCPD();
                });

                document.getElementById("btnAddPhead").addEventListener("click", function () {
                    addPhead();
                });

                document.getElementById("btnAddBOE").addEventListener("click", function () {
                    addBOE();
                });

                document.getElementById("btnAddProjRev").addEventListener("click", function () {
                    addProjRev();
                });

                document.getElementById("btnAddProjExp").addEventListener("click", function () {
                    addProjExp();
                });

                document.getElementById("hasExpenses").addEventListener("change", function () {
                    toggleExpenses(this);
                });

                document.getElementById("hasIncome").addEventListener("change", function () {
                    toggleIncome(this);
                });

            });
        </script>
    </body>

</html>